<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Failure Resume Builder</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f0f0f0;
            padding: 20px;
        }
        .container {
            background: white;
            max-width: 900px;
            margin: auto;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .form-section {
            margin-bottom: 40px;
        }
        h2 {
            border-bottom: 2px solid #ccc;
            padding-bottom: 10px;
        }
        input[type="text"], input[type="number"], textarea, input[type="file"] {
            width: 100%;
            padding: 10px;
            margin-top: 6px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .failure-group {
            margin-bottom: 30px;
        }
        label {
            font-weight: bold;
        }
        button {
            padding: 10px 20px;
            font-size: 1em;
            background-color: #3489eb;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        .resume-preview {
            margin-top: 60px;
            padding: 30px;
            background: #fff;
            border: 2px solid #ccc;
            border-radius: 10px;
        }
        .profile-pic {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #ccc;
        }
        .subsection {
            margin-top: 20px;
        }
        .subsection h3 {
            margin-bottom: 10px;
            color: #333;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>Create Your Failure Resume</h1>
    <form id="resume-form">
        <div class="form-section">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required>

            <label for="occupation">Occupation:</label>
            <input type="text" id="occupation" name="occupation" required>

            <label for="profile">Profile (max 70 words):</label>
            <textarea id="profile" name="profile" maxlength="500" rows="4" required></textarea>

            <label for="photo">Upload Profile Photo:</label>
            <input type="file" id="photo" name="photo" accept="image/*">
        </div>

        <div class="form-section" id="failures">
            <h2>Failures</h2>
            <div class="failure-group" data-category="Academics">
                <label>Failures in Academics (4 max):</label>
                <input type="text" name="Academics[]">
                <input type="text" name="Academics[]">
                <input type="text" name="Academics[]">
                <input type="text" name="Academics[]">
            </div>
            <div class="failure-group" data-category="Jobs">
                <label>Jobs I Never Got:</label>
                <input type="text" name="Jobs[]">
                <input type="text" name="Jobs[]">
                <input type="text" name="Jobs[]">
                <input type="text" name="Jobs[]">
            </div>
            <div class="failure-group" data-category="Business">
                <label>Screw-Ups in Business:</label>
                <input type="text" name="Business[]">
                <input type="text" name="Business[]">
                <input type="text" name="Business[]">
                <input type="text" name="Business[]">
            </div>
            <div class="failure-group" data-category="Unaccomplished">
                <label>Things I Never Accomplished:</label>
                <input type="text" name="Unaccomplished[]">
                <input type="text" name="Unaccomplished[]">
                <input type="text" name="Unaccomplished[]">
                <input type="text" name="Unaccomplished[]">
            </div>
            <div class="failure-group" data-category="Skills">
                <label>Skills I Never Established:</label>
                <input type="text" name="Skills[]">
                <input type="text" name="Skills[]">
                <input type="text" name="Skills[]">
                <input type="text" name="Skills[]">
            </div>
            <div class="failure-group" data-category="Fears">
                <label>Things That Still Scare Me:</label>
                <input type="text" name="Fears[]">
                <input type="text" name="Fears[]">
                <input type="text" name="Fears[]">
                <input type="text" name="Fears[]">
            </div>
        </div>

        <button type="submit">Generate Resume</button>
    </form>

    <div class="resume-preview" id="preview" style="display:none;"></div>
</div>

<script>
    document.getElementById('resume-form').onsubmit = function (e) {
        e.preventDefault();

        const name = document.getElementById('name').value;
        const occupation = document.getElementById('occupation').value;
        const profile = document.getElementById('profile').value;
        const photo = document.getElementById('photo').files[0];

        const preview = document.getElementById('preview');
        preview.innerHTML = `<h2>${name}</h2>
            <p><i>${occupation}</i></p>
            <p>${profile}</p>`;

        if (photo) {
            const reader = new FileReader();
            reader.onload = function (e) {
                preview.innerHTML = `<img src="${e.target.result}" alt="Profile Picture" class="profile-pic">` + preview.innerHTML;
            }
            reader.readAsDataURL(photo);
        }

        const categories = ['Academics', 'Jobs', 'Business', 'Unaccomplished', 'Skills', 'Fears'];
        categories.forEach(cat => {
            const inputs = document.getElementsByName(`${cat}[]`);
            let values = Array.from(inputs).map(input => input.value.trim()).filter(Boolean);
            if (values.length > 0) {
                let html = `<div class="subsection">
                        <h3>${cat.replace(/([A-Z])/g, ' $1').trim()}:</h3>
                        <ul>${values.map(v => `<li>${v}</li>`).join('')}</ul>
                    </div>`;
                preview.innerHTML += html;
            }
        });

        preview.style.display = 'block';
        window.scrollTo(0, preview.offsetTop);
    }
</script>
</body>
</html>
